!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("wiringpi-node")):"function"==typeof define&&define.amd?define("pi-home-gpio",["wiringpi-node"],e):"object"==typeof exports?exports["pi-home-gpio"]=e(require("wiringpi-node")):t["pi-home-gpio"]=e(t["wiringpi-node"])}(global,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n.w={},n(n.s=2)}([function(e,n){e.exports=t},function(t,e){
/*! ReadWriteLock - v5.0.0 - 2015-01-16
 * Author: Alberto La Rocca <a71104@gmail.com> (https://github.com/71104)
 * Released under the MIT license
 * Copyright (c) 2015 Alberto La Rocca */
t.exports=function(){"use strict";function t(){this.readers=0,this.queue=[]}function e(e,n,r){var u;"function"!=typeof e?(i.hasOwnProperty(e)||(i[e]=new t),u=i[e]):(r=n,n=e,u=o),r||(r={});var c=null;r.hasOwnProperty("scope")&&(c=r.scope);var a=function(){var t=!1;return function(){t||(t=!0,u.readers--,u.queue.length&&u.queue[0]())}}();if(u.readers<0||u.queue.length){var s=!1;if(u.queue.push(function(){!s&&u.readers>=0&&(s=!0,u.queue.shift(),u.readers++,n.call(c,a),u.queue.length&&u.queue[0]())}),r.hasOwnProperty("timeout")){var p=null;r.hasOwnProperty("timeoutCallback")&&(p=r.timeoutCallback),setTimeout(function(){s||(s=!0,u.queue.shift(),p&&p.call(r.scope))},r.timeout)}}else u.readers++,n.call(r.scope,a)}function n(e,n,r){var u;"function"!=typeof e?(i.hasOwnProperty(e)||(i[e]=new t),u=i[e]):(r=n,n=e,u=o),r||(r={});var c=null;r.hasOwnProperty("scope")&&(c=r.scope);var a=function(){var t=!1;return function(){t||(t=!0,u.readers=0,u.queue.length&&u.queue[0]())}}();if(u.readers||u.queue.length){var s=!1;if(u.queue.push(function(){s||u.readers||(s=!0,u.queue.shift(),u.readers=-1,n.call(r.scope,a))}),r.hasOwnProperty("timeout")){var p=null;r.hasOwnProperty("timeoutCallback")&&(p=r.timeoutCallback),setTimeout(function(){s||(s=!0,u.queue.shift(),p&&p.call(c))},r.timeout)}}else u.readers=-1,n.call(r.scope,a)}var o=new t,i={};this.readLock=e,this.writeLock=n,this.async={readLock:function(t,n,o){"function"!=typeof t?e(t,function(t){n.call(this,null,t)},o):e(function(t){n.call(this,null,t)},o=n=t)},writeLock:function(t,e,o){"function"!=typeof t?n(t,function(t){e.call(this,null,t)},o):n(function(t){e.call(this,null,t)},o=e=t)}}}},function(t,e,n){"use strict";n.r(e);var o=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},i=n(1),r=n.n(i),u=n(0),c=n.n(u);var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype._checkOpen=function(){if(this.closed())throw new Error("Device is closed or uninitialized")},t.prototype.isActive=function(){return void 0!==this.value},t.prototype.value=function(){throw new Error("Not Implemented")},t.prototype.close=function(){},t}(),s="input",p="floating";var f,l=function(){return{}},h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._blinkTimer=void 0}return t.prototype.close=function(){this.stopBlink()},t.prototype.outputWithState=function(t){this._function="output",this.state(t)},t.prototype.pinFunction=function(t){if(void 0===t)return s;if(t!==s)throw new Error("Cannot set the function of pin "+this+" to "+t);return t},t.prototype.state=function(t){if(!t)return 0;throw new Error("Cannot set the state of input pin "+this)},t.prototype.blink=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l,r=1e3*t,u=1e3*e,c=o;this.stopBlink(),this._blinkTimer=setInterval(function(){c>0?(n.state(!0),setTimeout(function(){n.state(!1),c--},r)):(n.stopBlink(),void 0!==i&&i())},r+u),this.state(!0),setTimeout(function(){n.state(!1),c--},r)},t.prototype.stopBlink=function(){this._blinkTimer&&(clearInterval(this._blinkTimer),this._blinkTimer=void 0)},t}();function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d={},v=((f={})[s]=c.a.INPUT,f.output=c.a.OUTPUT,f),_={up:c.a.PUD_UP,down:c.a.PUD_DOWN,FLOATING_STRING:c.a.PUD_OFF},b=void 0,w=void 0,m=function(t){function e(n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===b&&(c.a.setup("gpio"),b=!0),void 0===w&&(w=c.a.piBoardRev()),n<0||n>54)throw new Error("Invalid pin "+n+" specified (must be 0..53)");if(void 0!==d[n])return y(o,d[n]);var o=y(this,t.call(this));return o._number=n,o._function=s,o._pull=p,c.a.pinMode(n,c.a.INPUT),d[n]=o,y(o,o)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.number=function(){return this._number},e.prototype.close=function(){c.a.pullUpDnControl(this._number,c.a.PUD_OFF)},e.prototype.outputWithState=function(t){this._pull=p,this.pinFunction("output"),c.a.digitalWrite(this._number,t)},e.prototype.pinFunction=function(t){if(void 0===t)return this._function;if(t!==s&&(this._pull=p),t!==s&&"output"!==t)throw new Error("Invalid function "+t+" for pin "+this._number);return c.a.pinMode(this._number,v[t]),c.a.pullUpDnControl(this._number,_[this._pull]),this._function=t,t},e.prototype.state=function(t){return void 0===t?c.a.digitalRead(this._number):(c.a.digitalWrite(this._number,t?u.HIGH:u.LOW),t)},e}(h);var O=new Set,g=new r.a;var T=function(){return{}};var k=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.blink=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T;this._pin.blink(t,e,n,o)},e}(function(t){function e(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return u._lock=new r.a,u._activeHigh(o),u._pin.outputWithState(u._valueToState(i)),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._activeHigh=function(t){this._activeState=t?u.HIGH:u.LOW,this._inactiveState=t?u.LOW:u.HIGH},e.prototype._valueToState=function(t){return t?this._activeState:this._inactiveState},e.prototype._write=function(t){this._checkOpen(this),this._pin.state(this._valueToState(t))},e.prototype.on=function(){this._pin.stopBlink(),this._write(!0)},e.prototype.off=function(){this._pin.stopBlink(),this._write(!1)},e.prototype.value=function(t){return void 0===t?this._read():(this._pin.stopBlink(),this._write(t),t)},e.prototype.toggle=function(){var t=this;this._lock.readLock(function(e){t.isActive()?t.off():t.on(),e()})},e}(function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),i=void 0;if(!n)throw new Error("No pin given");return Number.isInteger(n)&&(i=new m(n)),g.readLock(function(t){if(O.has(i))throw new Error("Pin "+n+" is already in use by another gpiozero object");O.add(i),t()}),o._pin=i,o._activeState=!0,o._inactiveState=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._read=function(){return this._checkOpen(),this._stateToValue(this.pin().state())},e.prototype._stateToValue=function(t){return Boolean(t===this._activeState)},e.prototype.close=function(){var t=this;g.readLock(function(e){var n=t._pin;O.has(n)&&(O.delete(n),t._pin.close()),t._pin=void 0,e()})},e.prototype.closed=function(){return void 0===this._pin},e.prototype.pin=function(){return this._pin},e.prototype.value=function(){return this._read()},e.prototype.isActive=function(){return Boolean(this.value())},e}(a))));n.d(e,"Button",function(){return o}),n.d(e,"Led",function(){return k});e.default=function(){return"gpio"}}])});