!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("require('wiringpi-node')")):"function"==typeof define&&define.amd?define("pi-home-gpio",["require('wiringpi-node')"],e):"object"==typeof exports?exports["pi-home-gpio"]=e(require("require('wiringpi-node')")):t["pi-home-gpio"]=e(t["require('wiringpi-node')"])}(global,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n.w={},n(n.s=2)}([function(e,n){e.exports=t},function(t,e){
/*! ReadWriteLock - v5.0.0 - 2015-01-16
 * Author: Alberto La Rocca <a71104@gmail.com> (https://github.com/71104)
 * Released under the MIT license
 * Copyright (c) 2015 Alberto La Rocca */
t.exports=function(){"use strict";function t(){this.readers=0,this.queue=[]}function e(e,n,r){var u;"function"!=typeof e?(i.hasOwnProperty(e)||(i[e]=new t),u=i[e]):(r=n,n=e,u=o),r||(r={});var c=null;r.hasOwnProperty("scope")&&(c=r.scope);var a=function(){var t=!1;return function(){t||(t=!0,u.readers--,u.queue.length&&u.queue[0]())}}();if(u.readers<0||u.queue.length){var s=!1;if(u.queue.push(function(){!s&&u.readers>=0&&(s=!0,u.queue.shift(),u.readers++,n.call(c,a),u.queue.length&&u.queue[0]())}),r.hasOwnProperty("timeout")){var p=null;r.hasOwnProperty("timeoutCallback")&&(p=r.timeoutCallback),setTimeout(function(){s||(s=!0,u.queue.shift(),p&&p.call(r.scope))},r.timeout)}}else u.readers++,n.call(r.scope,a)}function n(e,n,r){var u;"function"!=typeof e?(i.hasOwnProperty(e)||(i[e]=new t),u=i[e]):(r=n,n=e,u=o),r||(r={});var c=null;r.hasOwnProperty("scope")&&(c=r.scope);var a=function(){var t=!1;return function(){t||(t=!0,u.readers=0,u.queue.length&&u.queue[0]())}}();if(u.readers||u.queue.length){var s=!1;if(u.queue.push(function(){s||u.readers||(s=!0,u.queue.shift(),u.readers=-1,n.call(r.scope,a))}),r.hasOwnProperty("timeout")){var p=null;r.hasOwnProperty("timeoutCallback")&&(p=r.timeoutCallback),setTimeout(function(){s||(s=!0,u.queue.shift(),p&&p.call(c))},r.timeout)}}else u.readers=-1,n.call(r.scope,a)}var o=new t,i={};this.readLock=e,this.writeLock=n,this.async={readLock:function(t,n,o){"function"!=typeof t?e(t,function(t){n.call(this,null,t)},o):e(function(t){n.call(this,null,t)},o=n=t)},writeLock:function(t,e,o){"function"!=typeof t?n(t,function(t){e.call(this,null,t)},o):n(function(t){e.call(this,null,t)},o=e=t)}}}},function(t,e,n){"use strict";n.r(e);var o=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},i=n(1),r=n.n(i);var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype._checkOpen=function(){if(this.closed())throw new Error("is closed or uninitialized")},t.prototype.isActive=function(){return void 0!==this.value},t.prototype.value=function(){throw new Error("Not Implemented")},t.prototype.close=function(){},t}(),c=n(0),a=n.n(c);var s=function(){return{}},p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._blinkTimer=void 0}return t.prototype.close=function(){this.stopBlink()},t.prototype.outputWithState=function(t){this._function="output",this.state(t)},t.prototype.pinFunction=function(t){if(void 0===t)return"input";if("input"!==t)throw new Error("Cannot set the function of pin "+this+" to "+t);return t},t.prototype.state=function(t){if(!t)return 0;throw new Error("Cannot set the state of input pin "+this)},t.prototype.blink=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,r=1e3*t,u=1e3*e,c=o;this.stopBlink(),this._blinkTimer=setInterval(function(){c>0?(n.state(!0),setTimeout(function(){n.state(!1),c--},r)):(n.stopBlink(),void 0!==i&&i())},r+u),this.state(!0),setTimeout(function(){n.state(!1),c--},r)},t.prototype.stopBlink=function(){this._blinkTimer&&(clearInterval(this._blinkTimer),this._blinkTimer=void 0)},t.prototype.toString=function(){return"Abstract pin"},t}();function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l={},h={input:a.a.INPUT,output:a.a.OUTPUT,pwm:a.a.PWM_OUTPUT},y={up:a.a.PUD_UP,down:a.a.PUD_DOWN,floating:a.a.PUD_OFF},d=void 0,v=void 0,_=function(t){function e(n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===d&&(a.a.setup("gpio"),d=!0),void 0===v&&(v=a.a.piBoardRev()),n<0||n>54)throw new Error("Invalid pin "+n+" specified (must be 0..53)");if(void 0!==l[n])return f(o,l[n]);var o=f(this,t.call(this));return o._number=n,o._pwm=void 0,o._frequency=void 0,o._dutyCycle=void 0,o._bounce=-666,o._whenChanged=void 0,o._function="input",o._state=!1,o._pull="floating",o._bounce=void 0,o._edges="both",a.a.pinMode(n,a.a.INPUT),l[n]=o,f(o,o)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.number=function(){return this._number},e.prototype.close=function(){this._frequency=void 0,this._whenChanged=void 0,a.a.pullUpDnControl(this._number,a.a.PUD_OFF)},e.prototype.outputWithState=function(t){this._pull="floating",this.pinFunction("output"),a.a.digitalWrite(this._number,t)},e.prototype.pinFunction=function(t){if(void 0===t)return this._function;if("input"!==t&&(this._pull="floating"),"input"!==t&&"output"!==t)throw new Error("invalid function "+t+" for pin "+this._number);return a.a.pinMode(this._number,h[t]),a.a.pullUpDnControl(this._number,y[this._pull]),this._function=t,t},e.prototype.state=function(t){return void 0===t?void 0!==this._pwm?this._dutyCycle:a.a.digitalRead(this._number):(void 0!==this._pwm?(a.a.pwmWrite(this._number,t),this._dutyCycle=t):a.a.digitalWrite(this._number,t?1:0),t)},e.prototype.toString=function(){return"GPIO "+this._number.toString()},e}(p);var b=new Set,w=new r.a;var g=function(){return{}};var m=function(t){function e(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(function(t){function e(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,o,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.blink=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;this._pin.blink(t,e,n,o)},e}(function(t){function e(n){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return u._lock=new r.a,u._activeHigh(o),u._pin.outputWithState(u._valueToState(i)),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._activeHigh=function(t){this._activeState=t,this._inactiveState=!t},e.prototype._valueToState=function(t){return t?this._activeState:this._inactiveState},e.prototype._write=function(t){this._checkOpen(this),this._pin.state(this._valueToState(t))},e.prototype.on=function(){this._pin.stopBlink(),this._write(!0)},e.prototype.off=function(){this._pin.stopBlink(),this._write(!1)},e.prototype.value=function(t){return t?(this._pin.stopBlink(),this._write(t),t):this._read()},e.prototype.toggle=function(){var t=this;this._lock.readLock(function(e){t.isActive()?t.off():t.on(),e()})},e}(function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this)),i=void 0;if(!n)throw new Error("No pin given");return Number.isInteger(n)&&(i=new _(n)),w.readLock(function(t){if(b.has(i))throw new Error("pin "+n.toString()+" is already in use by another gpiozero object");b.add(i),t()}),o._pin=i,o._activeState=!0,o._inactiveState=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._read=function(){return this._checkOpen(),this._stateToValue(this.pin().state())},e.prototype._stateToValue=function(t){return Boolean(t===this._activeState)},e.prototype.close=function(){var t=this;w.readLock(function(e){var n=t._pin;b.has(n)&&(b.delete(n),t._pin.close()),t._pin=void 0,e()})},e.prototype.closed=function(){return void 0===this._pin},e.prototype.pin=function(){return this._pin},e.prototype.value=function(){return this._read()},e.prototype.isActive=function(){return Boolean(this.value())},e.prototype.toString=function(){return"<gpiozero.GPIODevice object on pin "+this._pin._number.toString()+" isActive="+this.isActive()+">"},e}(u))));n.d(e,"Button",function(){return o}),n.d(e,"Led",function(){return m});e.default=function(){return"gpio"}}])});